group 'org.evento'
version '1.0-SNAPSHOT'

/*

def ordered(String... dependencyPaths) {
   def dependencies = dependencyPaths.collect { tasks.getByPath(it) }
   for (int i = 0; i < dependencies.size() - 1; i++) {
      dependencies[i + 1].mustRunAfter(dependencies[i])
   }
   return dependencies
}

task buildCommon {
   dependsOn ordered(
           ':evento-common:clean',
           ':evento-common:build',
           ':evento-common:publishToMavenLocal')
}

task buildParser {
   dependsOn ordered(
           ':evento-parser:clean',
           ':evento-parser:build',
           ':evento-parser:publishToMavenLocal')}

task buildCli {
   dependsOn ordered(
           ':evento-cli:clean',
           ':evento-cli:build',
           ':evento-cli:publishToMavenLocal',)}

task buildJgroups {
   dependsOn ordered(
           ':evento-bus:evento-bus-jgroups:clean',
           ':evento-bus:evento-bus-jgroups:build',
           ':evento-bus:evento-bus-jgroups:publishToMavenLocal',)};

task buildRabbit {
   dependsOn ordered(
           ':evento-bus:evento-bus-rabbitmq:clean',
           ':evento-bus:evento-bus-rabbitmq:build',
           ':evento-bus:evento-bus-rabbitmq:publishToMavenLocal',)}

task buildCSS {
   dependsOn ordered(
           ':evento-consumer-state-store:evento-consumer-state-store-mysql:clean',
           ':evento-consumer-state-store:evento-consumer-state-store-mysql:build',
           ':evento-consumer-state-store:evento-consumer-state-store-mysql:publishToMavenLocal',)}

task buildBundle {
   dependsOn ordered(
           ':evento-bundle:clean',
           ':evento-bundle:build',
           ':evento-bundle:publishToMavenLocal',)}

task buildServer {
   dependsOn ordered(
           ':evento-server:clean',
           ':evento-server:bootJar'
   )
}
*/